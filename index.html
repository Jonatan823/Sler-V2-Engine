<div id="security-gate" style="position: fixed; inset: 0; background: #050505; z-index: 10000; display: flex; align-items: center; justify-content: center;">
    <div class="gate-card" style="border: 1px solid #007acc; padding: 40px; text-align: center; background: #16161a;">
        <div style="color: #007acc; font-size: 18px; margin-bottom: 25px; letter-spacing: 2px;">SLER MOTOR V2 - PRIVATE ACCESS</div>
        
        <input type="password" id="access-pass" placeholder="ENTER PRIVATE KEY" 
               style="background: #000; border: 1px solid #333; color: #4ec9b0; padding: 12px; margin-bottom: 10px; display: block; width: 280px; text-align: center; font-family: 'Consolas';">
        
        <button id="btn-login" style="width: 100%; padding: 12px; background: #007acc; border: none; color: white; cursor: pointer; font-weight: bold; font-family: 'Consolas';">AUTHORIZE INITIALIZATION</button>
        
        <div id="recovery-zone" style="margin-top: 20px; display: none;">
            <p style="font-size: 10px; color: #666;">¿Olvidaste la clave?</p>
            <button onclick="enviarRecordatorio()" style="background: none; border: none; color: #569cd6; cursor: pointer; font-size: 11px; text-decoration: underline;">Enviar recordatorio al e-mail de registro</button>
        </div>
    </div>
</div>

<script>
    // Configuración de la clave maestra
    const MASTER_KEY = "joniclapton";

    document.getElementById('btn-login').onclick = function() {
        const passInput = document.getElementById('access-pass').value;
        
        if(passInput === MASTER_KEY) {
            document.getElementById('security-gate').style.display = 'none';
            // Iniciamos el motor
            initMotor(); 
        } else {
            alert("ACCESO DENEGADO: Credencial Inválida.");
            document.getElementById('recovery-zone').style.display = 'block';
        }
    };

    function enviarRecordatorio() {
        // Aquí conectamos con Firebase Auth para el envío de mail
        // Por ahora simulamos el log en consola hasta configurar el SMTP
        console.log("Protocolo de recuperación activado para: Ribot Jonatan");
        alert("Se ha enviado una solicitud de recuperación a tu e-mail registrado.");
        
        // Registro de intento fallido en Firebase para tu control
        db.ref('sistema/alertas_seguridad').push({
            evento: "FALLO_LOGIN",
            timestamp: Date.now()
        });
    }
</script>
